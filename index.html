<!DOCTYPE html>
<html lang="zh-TW">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Êó•Êú¨ÂØåÂ±±&Â≤êÈòúËá™Áî±Ë°å 2026</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+TC:wght@400;500;700&display=swap" rel="stylesheet">
    <style>
        :root {
            --bg-color: #f4f3ef;
            --card-bg: #ffffff;
            --primary-color: #2b4c6f;
            --accent-color: #d64045;
            --text-color: #333333;
            --text-light: #777777;
            --line-color: #e0e0e0;
            --nav-active-bg: #eef2f6;

            --tag-m-bg: #d64045;
            --tag-m-text: #ffffff;
            --tag-o-bg: #888888;
            --tag-o-text: #ffffff;
            --tag-food-bg: #f59f00;

            --radius-card: 16px;
            --shadow-soft: 0 2px 12px rgba(0, 0, 0, 0.04);
        }

        * {
            box-sizing: border-box;
            -webkit-tap-highlight-color: transparent;
        }

        body {
            margin: 0;
            padding: 0;
            background-color: var(--bg-color);
            font-family: 'Noto Sans TC', sans-serif;
            color: var(--text-color);
            padding-bottom: 80px;
        }

        /* --- Header --- */
        /* --- Header --- */
        /* --- Header --- */
        .app-header {
            background: #ffffff;
            padding: 25px 20px 15px 20px;
            text-align: center;
            border-bottom: 1px solid rgba(0, 0, 0, 0.03);
            margin-bottom: 0;
            color: var(--primary-color);
            border-radius: 0;
            box-shadow: none;
        }

        .header-title {
            font-size: 20px;
            font-weight: 700;
            color: var(--primary-color);
            margin: 0;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 8px;
            text-shadow: none;
        }

        .header-subtitle {
            font-size: 13px;
            color: var(--text-light);
            margin-top: 5px;
            font-weight: 400;
        }

        /* --- Tabs --- */
        /* --- Tabs --- */
        .sticky-nav {
            position: sticky;
            top: 0;
            z-index: 1000;
            background: #ffffff;
            /* Match header so it blends if scrolled */
            box-shadow: 0 4px 10px rgba(0, 0, 0, 0.05);
            padding: 5px 10px 10px 10px;
            margin-top: 0;
        }

        .nav-tabs {
            display: flex;
            justify-content: center;
            max-width: 600px;
            margin: 0 auto;
            background: transparent;
            box-shadow: none;
            border-bottom: 2px solid #f0f0f0;
            border-radius: 0;
            padding: 0;
        }

        .nav-tab {
            flex: 1;
            text-align: center;
            padding: 12px 0;
            font-size: 15px;
            font-weight: 500;
            color: var(--text-light);
            cursor: pointer;
            position: relative;
            background: transparent;
            box-shadow: none;
            border-radius: 0;
        }

        .nav-tab.active {
            box-shadow: none;
            background: transparent;
            color: var(--primary-color);
            font-weight: 700;
        }

        .nav-tab.active::after {
            content: '';
            position: absolute;
            bottom: -2px;
            left: 0;
            width: 100%;
            height: 3px;
            background: var(--primary-color);
            display: block;
            border-radius: 0;
        }

        .container {
            max-width: 800px;
            margin: 0 auto;
            padding: 15px;
        }

        /* --- Day Card --- */
        .day-card {
            background: var(--card-bg);
            border-radius: var(--radius-card);
            margin-bottom: 20px;
            box-shadow: var(--shadow-soft);
            overflow: hidden;
            border: 1px solid rgba(0, 0, 0, 0.02);
        }

        .day-header {
            background: #dfe6ed;
            /* Light Blue-Grey from mockup */
            padding: 15px 20px;
            display: flex;
            justify-content: space-between;
            align-items: center;
            cursor: pointer;
            user-select: none;
        }

        .day-title-row {
            display: flex;
            flex-direction: column;
        }

        .day-main-title {
            font-size: 16px;
            font-weight: 700;
            color: var(--primary-color);
        }

        .day-date-str {
            font-size: 12px;
            color: #666;
            margin-top: 2px;
        }

        .expand-icon {
            width: 20px;
            height: 20px;
            fill: var(--primary-color);
            transition: transform 0.3s;
        }

        .day-card.expanded .expand-icon {
            transform: rotate(180deg);
        }

        .day-body {
            display: none;
            padding: 20px 15px;
        }

        .day-card.expanded .day-body {
            display: block;
        }

        /* --- Timeline UI --- */
        .timeline-container {
            position: relative;
            padding-left: 10px;
        }

        /* Vertical line */
        .timeline-container::before {
            content: '';
            position: absolute;
            top: 10px;
            bottom: 10px;
            left: 19px;
            /* adjust based on dot center */
            width: 2px;
            background: #e8e8e8;
            z-index: 0;
        }

        .timeline-item {
            position: relative;
            display: flex;
            align-items: center;
            /* Center vertically specifically for the dot lineup */
            margin-bottom: 24px;
            z-index: 1;
            min-height: 40px;
        }

        .timeline-item:last-child {
            margin-bottom: 0;
        }

        /* Dot */
        .timeline-dot {
            width: 20px;
            height: 20px;
            border-radius: 50%;
            border: 3px solid #b0c4de;
            background: white;
            margin-right: 15px;
            flex-shrink: 0;
            position: relative;
            z-index: 2;
        }

        .timeline-dot.nav-dot {
            border-color: var(--primary-color);
        }

        .timeline-dot.food-dot {
            border-color: #f59f00;
        }

        /* Content */
        .timeline-content {
            flex: 1;
            display: flex;
            justify-content: space-between;
            align-items: center;
            /* Align button and text */
            gap: 15px;
        }

        .timeline-text {
            flex: 1;
        }

        .item-name {
            font-size: 15px;
            font-weight: 500;
            color: #333;
            line-height: 1.4;
            display: flex;
            align-items: center;
            flex-wrap: wrap;
            gap: 6px;
        }

        .item-note {
            font-size: 12px;
            color: #888;
            margin-top: 3px;
        }

        /* Tags */
        .tag {
            display: inline-flex;
            justify-content: center;
            align-items: center;
            width: 20px;
            height: 20px;
            border-radius: 4px;
            font-size: 11px;
            font-weight: bold;
            flex-shrink: 0;
        }

        .tag-m {
            background: var(--tag-m-bg);
            color: white;
        }

        .tag-o {
            background: var(--tag-o-bg);
            color: white;
        }

        .tag-food-icon {
            font-size: 14px;
        }

        /* Nav Button */
        .nav-btn {
            width: 80px;
            height: 30px;
            flex-shrink: 0;
            border: 1px solid var(--primary-color);
            color: var(--primary-color);
            background: transparent;
            border-radius: 15px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 12px;
            font-weight: 500;
            text-decoration: none;
            transition: all 0.2s;
        }

        .nav-btn:active {
            background: var(--primary-color);
            color: white;
        }

        /* --- Plan Switcher --- */
        .plan-switcher-container {
            margin: 20px 0 20px 35px;
            /* Indent to align with content */
            background: #f0f0f0;
            border-radius: 12px;
            padding: 4px;
            display: flex;
        }

        .plan-option {
            flex: 1;
            text-align: center;
            padding: 8px 0;
            font-size: 13px;
            font-weight: 500;
            color: #666;
            border-radius: 10px;
            cursor: pointer;
            transition: all 0.2s;
        }

        .plan-option.active {
            background: white;
            color: var(--primary-color);
            font-weight: 700;
            box-shadow: 0 2px 5px rgba(0, 0, 0, 0.05);
        }

        .plan-block {
            display: none;
        }

        .plan-block.visible {
            display: block;
            animation: fadeIn 0.3s;
        }

        @keyframes fadeIn {
            from {
                opacity: 0;
                transform: translateY(5px);
            }

            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        /* --- Footer --- */
        /* --- Footer --- */
        .app-footer {
            text-align: center;
            padding: 30px 0;
            font-size: 12px;
            color: #ccc;
            letter-spacing: 1px;
            background: transparent;
            margin-top: 20px;
        }

        .footer-logo {
            font-weight: 700;
            color: #ccc;
            font-size: 12px;
            margin-bottom: 0;
        }

        .flag-icon {
            width: 32px;
            height: auto;
            border: 1px solid rgba(0, 0, 0, 0.08);
            /* Subtle grey border */
            box-shadow: 0 2px 6px rgba(0, 0, 0, 0.15);
            /* Shadow to lift it up */
            /* vertical-align: bottom; */
        }

        /* --- Helpers --- */
        .hidden {
            display: none !important;
        }

        .info-row {
            display: flex;
            padding: 12px 0;
            border-bottom: 1px dashed #eee;
        }

        .info-row:last-child {
            border-bottom: none;
        }

        .info-label {
            width: 90px;
            color: #888;
            font-size: 13px;
            flex-shrink: 0;
        }

        .info-val {
            font-size: 15px;
            font-weight: 500;
            color: #333;
            flex: 1;
        }
    </style>
</head>

<body>

    <header class="app-header">
        <div class="header-title">
            <img src="https://upload.wikimedia.org/wikipedia/en/9/9e/Flag_of_Japan.svg" alt="Japan Flag"
                class="flag-icon">
            <span style="margin-left: 10px;">Êó•Êú¨ÂØåÂ±±&Â≤êÈòúËá™Áî±Ë°å</span>
        </div>
        <div class="header-subtitle">2026.02.13 ‚Äî 2026.02.21 (9Â§©)</div>
    </header>

    <div class="sticky-nav">
        <div class="nav-tabs">
            <div class="nav-tab active" onclick="switchView('itinerary')">üóìÔ∏è Ë°åÁ®ãË°®</div>
            <div class="nav-tab" onclick="switchView('hotels')">üè® ‰ΩèÂÆøÈ£ØÂ∫ó</div>
            <div class="nav-tab" onclick="switchView('transport')">‚úàÔ∏è Ëà™Áè≠/ÁßüËªä</div>
        </div>
    </div>

    <div class="container">
        <div id="itinerary-view" class="view-section">
            <!-- Itinerary rendered here -->
        </div>

        <div id="hotels-view" class="view-section hidden">
            <!-- Hotels rendered here -->
        </div>

        <div id="transport-view" class="view-section hidden">
            <div class="day-card" style="display:block;">
                <div class="day-header" style="cursor: default;">
                    <div class="day-main-title">‚úàÔ∏è Ëà™Áè≠Ë≥áË®ä</div>
                </div>
                <div class="day-body" style="display:block;">
                    <div class="info-row">
                        <div class="info-label">Ëà™Á©∫ÂÖ¨Âè∏</div>
                        <div class="info-val">Èï∑Ê¶ÆËà™Á©∫ (EVA Air)</div>
                    </div>
                    <div class="info-row">
                        <div class="info-label">ÂéªÁ®ã (2/13)</div>
                        <div class="info-val">06:35 TAIWAN ‚Üí 10:25 KOMATSU</div>
                    </div>
                    <div class="info-row">
                        <div class="info-label">ÂõûÁ®ã (2/21)</div>
                        <div class="info-val">11:45 KOMATSU ‚Üí 14:35 TAIWAN</div>
                    </div>
                    <div class="info-row">
                        <div class="info-label">Á∏ΩÂÉπ</div>
                        <div class="info-val">TWD 113,480 (All)</div>
                    </div>
                </div>
            </div>

            <div class="day-card" style="display:block;">
                <div class="day-header" style="cursor: default;">
                    <div class="day-main-title">üöó ÁßüËªäË≥áË®ä</div>
                </div>
                <div class="day-body" style="display:block;">
                    <div class="info-row">
                        <div class="info-label">ËªäÂûã</div>
                        <div class="info-val">COROLLA CROSS HEV<br><span style="font-size:12px;color:#888;">SUV2Á≠âÁ¥ö |
                                ÂèØÊîæ2ÂÄã29Âêã | Âê´ETC</span></div>
                    </div>
                    <div class="info-row">
                        <div class="info-label">ÂèñËªä</div>
                        <div class="info-val">2/13 12:00 Â∞èÊùæÁ©∫Ê∏ØÂ∫ó</div>
                    </div>
                    <div class="info-row">
                        <div class="info-label">ÈÇÑËªä</div>
                        <div class="info-val">2/20 12:00 ÈáëÊ≤¢ÈßÖË•øÂè£Â∫ó</div>
                    </div>
                    <div class="info-row">
                        <div class="info-label">Ë≤ªÁî®</div>
                        <div class="info-val">JPY 120,076 (Âà∞Â∫ó‰ªòÊ¨æ)<br><span
                                style="font-size:12px;color:#888;">Ââç7Â§©ÂèØÂÖçË≤ªÂèñÊ∂à</span></div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <footer class="app-footer">
        <div class="footer-logo">@ELIANA</div>
    </footer>

    <script>
        /* Data */
        const itinerary = [
            {
                day: "DAY 1",
                date: "2/13 (‰∫î)",
                title: "È´òÂ≤°/ÂØåÂ±±",
                mapLink: "https://maps.app.goo.gl/9RLQerdrG82Kbj5i9?g_st=ic",
                items: [
                    { type: "trans", title: "Â∞èÊùæÊ©üÂ†¥ÂèñËªäÂá∫Áôº (Á¥Ñ4hrËªäÁ®ã)", note: "", link: "" },
                    { type: "spot", tag: "M", title: "Kanazawa Port Ikiiki Market (È≠öÂ∏ÇÂ†¥)", note: "ÂçàÈ§ê„ÄÅÊµ∑ÈÆÆ", link: "" },
                    { type: "spot", tag: "O", title: "ÂçÉÈáåÊø±Âá™Ê≤ôÈÅìË∑Ø", note: "Ê≤ôÁÅòËªäÈÅì", link: "" },
                    { type: "food", title: "ÂÜ∞Ë¶ãÈ≠öÂ∏ÇÂ†¥È£üÂ†Ç", note: "", link: "" },
                    { type: "spot", title: "ÂøçËÄÖÂìàÁâπÂà©Ê©üÈóúÊôÇÈêò", note: "‚ö†Ô∏èÊï¥ÈªûË°®Êºî", link: "" },
                    { type: "spot", title: "Èõ®Êô¥Êµ∑Â≤∏", note: "", link: "" },
                    { type: "spot", title: "ÁëûÈæçÂØ∫", note: "ÂÅúËªä", link: "" },
                    { type: "spot", title: "È´òÂ≤°Âè§ÂüéÂÖ¨ÂúíÂãïÁâ©Âúí", note: "ÂÅúËªä", link: "" },
                    { type: "spot", title: "È´òÂ≤°Â§ß‰Ωõ", note: "", link: "" },
                    { type: "spot", title: "ÂìÜÂï¶AÂ§¢Êï£Ê≠•ÈÅì", note: "", link: "" },
                    { type: "spot", title: "ÂìÜÂï¶AÂ§¢Ë∑ØÈù¢ÈõªËªä", note: "Ëê¨ËëâÁ∑ö", link: "" },
                    { type: "spot", tag: "O", title: "È´òÂ≤°Á´•Ë©±‰πãÊ£ÆÂÖ¨Âúí (ÂìÜÂï¶AÂ§¢ÂÖ¨Âúí)", note: "", link: "" },
                    { type: "spot", tag: "M", title: "Shinkoo Bridge (Êñ∞ÊπäÂ§ßÊ©ã)", note: "", link: "" },
                    { type: "food", title: "Airbnb ÊôöÈ§êËá™ÁêÜ", note: "", link: "https://maps.app.goo.gl/GrfnL5MrVq5RUcSS8" },
                    { type: "spot", title: "Áí∞Ê∞¥ÂÖ¨ÂúíÊòüÂ∑¥ÂÖã", note: "ÁúãÂ§úÊôØ", link: "" },
                ]
            },
            {
                day: "DAY 2",
                date: "2/14 (ÂÖ≠)",
                title: "È´òÂ≤°/ÂØåÂ±±",
                items: [
                    { type: "spot", title: "Áí∞Ê∞¥ÂÖ¨Âúí", note: "", link: "" },
                    { type: "spot", title: "ÂØåÂ±±Á∏£ÁæéË°ìÈ§®", note: "", link: "" },
                    { type: "trans", title: "ÈñãËªäÁßªÂãï", note: "", link: "" },
                    { type: "spot", title: "Âê≥ÁæΩÂ±±ÂÖ¨ÂúíÂ±ïÊúõÂè∞", note: "", link: "" },
                    { type: "food", tag: "O", title: "Mizuhashi Syokud≈ç Gyofu", note: "ÁîüÈ≠öÁâá (ÈÄ±ÂÖ≠‰ºë)", link: "" },
                    { type: "food", tag: "O", title: "ÁôΩ„Åà„Å≥‰∫≠ (ÁôΩËù¶‰∫≠)", note: "Â§©Â©¶ÁæÖ", link: "" },
                    { type: "food", title: "Sushikuinee ! (Ëø¥ËΩâÂ£ΩÂè∏)", note: "Toyamafutakuchiten", link: "" },
                    { type: "spot", title: "ÂØåÂ±±Â∏ÇÂΩπÊâÄÂ±ïÊúõÂ°î", note: "ÂØåÂ±±ÂÅúËªäÔºåÊ≠•Ë°åËßÄÂÖâ", link: "" },
                    { type: "spot", title: "ÂØåÂ±±ÂüéÂùÄÂÖ¨Âúí", note: "", link: "" },
                    { type: "spot", title: "Êó•ÊûùÁ•ûÁ§æ", note: "", link: "" },
                    { type: "spot", title: "ÂØåÂ±±Â∏ÇÁéªÁíÉÁæéË°ìÈ§®", note: "", link: "" },
                    { type: "food", tag: "M", title: "Á≥∏Ëéä ÁÉèÈæçÈ∫µ", note: "", link: "" }
                ]
            },
            {
                day: "DAY 3",
                date: "2/15 (Êó•)",
                title: "È´òÂ±±",
                mapLink: "https://maps.app.goo.gl/kfgoHFZyVzHWm5YE7",
                items: [
                    { type: "food", title: "È£ØÂ∫óÊó©È§ê", note: "", noNav: true, link: "" },
                    { type: "trans", title: "ÈñãËªäÁßªÂãï (3.1 hr)", note: "", link: "" },
                    { type: "spot", title: "Êñ∞Á©óÈ´òÁ¥¢ÈÅì", note: "Á∫úËªäÁ¨¨‰∏ÄÊÆµ‰∏ãËªäÔºåÁõ¥Êé•ÂéªÁ¨¨‰∫åÊÆµ & Â±±‰∏äÁî®È§ê", link: "" },
                    { type: "spot", title: "È£õÈ©íÂ§ßÈêò‰π≥Áü≥Ê¥û", note: "", link: "" },
                    { type: "spot", title: "Êó•Ëº™Á•ûÁ§æ", note: "", link: "" },
                    { type: "food", title: "Âë≥ËóèÂ§©Âúã", note: "16:30ÊäΩËôüÁ¢ºÁâå", link: "" },
                    { type: "food", title: "Ëà©ÂùÇÈÖíÈÄ†Â∫ó", note: "", link: "" },
                    { type: "spot", title: "È£õÈ©í‰πãÈáå", note: "Êôö‰∏äÁúãÈªûÁáà", link: "" }
                ]
            },
            {
                day: "DAY 4",
                date: "2/16 (‰∏Ä)",
                title: "È´òÂ±±",
                items: [
                    { type: "food", title: "È£ØÂ∫óÊó©È§ê", note: "", noNav: true, link: "" },
                    { type: "spot", tag: "M", title: "È´òÂ±±ÊúùÂ∏Ç", note: "8ÈªûÈñãÈñÄ", link: "" },
                    { type: "spot", tag: "M", title: "ÁôΩÂ∑ùÈÑâÂêàÊéåÈÄ†", note: "ÈôêÊó©Ôºå8ÈªûÂ§öË¶ÅÂà∞Ôºå9ÈªûÁ¨¨‰∏ÄÁè≠Â±±È†Ç‰∫§ÈÄöËªäÔºåÂ§ßÊ¶ÇÈÄõ2ÔΩû3hr", link: "" },
                    {
                        type: "split",
                        plan1: {
                            name: "Plan 1 (Ëµ∞Â≤êÈòú)",
                            mapLink: "https://maps.app.goo.gl/CMKKCxVEDgJS9LFo7?g_st=ic",
                            items: [
                                { type: "food", title: "ËïéÈ∫•È∫µ (ËïéÈ∫¶Ê≠£)", note: "", link: "" },
                                { type: "spot", tag: "M", title: "ÈÉ°‰∏äÂÖ´Âπ°Âüé", note: "", link: "" },
                                { type: "spot", tag: "M", title: "‰∏âÂÖâÁ®≤Ëç∑Á•ûÁ§æ / Áä¨Â±±Âüé", note: "ÂèÉËßÄÁ¥Ñ40mins", link: "" },
                                { type: "spot", tag: "M", title: "Áä¨Â±±Âüé‰∏ãÁî∫", note: "", link: "" },
                                { type: "food", title: "Ëì¨„Åú„Çì È∞ªÈ≠öÊñôÁêÜ", note: "", link: "" },
                                { type: "spot", tag: "O", title: "Â≤êÈòúÂÖ¨Âúí / Â≤êÈòúÂüé", note: "Á∂≠‰øÆ‰∏≠", link: "" }
                            ]
                        },
                        plan2: {
                            name: "Plan 2 (Ëµ∞ÈáëÊæ§)",
                            mapLink: "https://maps.app.goo.gl/LQPfuNmstiSmTgZN8",
                            items: [
                                { type: "spot", title: "Ê∞£ÊØîÁ•ûÂÆÆ", note: "", link: "" },
                                { type: "spot", title: "Êó•Êú¨Êµ∑È≠öÂ∏ÇÂ†¥", note: "", link: "" },
                                { type: "spot", title: "Êï¶Ë≥ÄÁ¥ÖÁ£öÂÄâÂ∫´", note: "", link: "" }
                            ]
                        }
                    }
                ]
            },
            {
                day: "DAY 5",
                date: "2/17 (‰∫å)",
                title: "Â≤êÈòúÂ∏Ç/Ë§î‰∫ï",
                items: [
                    { type: "food", title: "Airbnb Êó©È§ê", note: "", link: "" },
                    {
                        type: "split",
                        plan1: {
                            name: "Plan 1 (Ëµ∞Â≤êÈòú)",
                            mapLink: "https://maps.app.goo.gl/ST1HH1cML7oJLc3o7",
                            items: [
                                { type: "spot", tag: "M", title: "ÈªëÂ£ÅÂª£Â†¥", note: "", link: "" },
                                { type: "spot", tag: "M", title: "Ê∞£ÊØîÁ•ûÂÆÆ", note: "", link: "" },
                                { type: "food", title: "Êï¶Ë≥ÄÊ≠êÊ¥≤Ëªí Á∏ΩÂ∫ó", note: "ÈÄ±‰∫åÊ≤íÈñã?", link: "" },
                                { type: "spot", tag: "M", title: "Êó•Êú¨Êµ∑È≠öÂ∏ÇÂ†¥", note: "", link: "" },
                                { type: "spot", tag: "M", title: "Êï¶Ë≥ÄÁ¥ÖÁ£öÂÄâÂ∫´", note: "", link: "" },
                                { type: "spot", tag: "M", title: "Ê∞∏Âπ≥ÂØ∫", note: "15:00ÂâçÂà∞", link: "" }

                            ]
                        },
                        plan2: {
                            name: "Plan 2 (Ëµ∞ÈáëÊæ§)",
                            mapLink: "https://maps.app.goo.gl/uPcDPVmQTqUMK3ft7",
                            items: [
                                { type: "spot", title: "‰∏âÊñπ‰∫îÊπñ", note: "", link: "" },
                                { type: "spot", tag: "M", title: "Ê∞∏Âπ≥ÂØ∫", note: "15:00ÂâçÂà∞", link: "" }
                            ]
                        }
                    },
                    { type: "spot", tag: "O", title: "‰∏Ä‰πòË∞∑ÊúùÂÄâÊ∞èÈÅ∫Ë∑°", note: "Âæ©ÂéüÁî∫‰∏¶", link: "" },
                    { type: "food", tag: "O", title: "OUR BREWING TAPROOM", note: "Âï§ÈÖíÂ∑•Âª†", link: "" },
                    { type: "food", title: "È£ØÂ∫óÂÆµÂ§ú", note: "", link: "" },
                    { type: "trans", title: "Á¶è‰∫ïÁ´ôÈªëË≤ì", note: "8:30-20:00", link: "" }
                ]
            },
            {
                day: "DAY 6",
                date: "2/18 (‰∏â)",
                title: "Êï¶Ë≥Ä/Âä†Ë≥Ä/Ë§î‰∫ï",
                items: [
                    { type: "food", title: "È£ØÂ∫óÊó©È§ê", note: "", noNav: true, link: "" },
                    {
                        type: "split",
                        plan1: {
                            name: "Plan 1 (Ëµ∞Â≤êÈòú)",
                            mapLink: "https://maps.app.goo.gl/2TzqpAB37a92WcQX9",
                            items: [
                                { type: "spot", tag: "M", title: "Á¶è‰∫ïÁ∏£Á´ãÊÅêÈæçÂçöÁâ©È§®", note: "1.5hr", link: "" },
                                { type: "spot", tag: "M", title: "Ë∂äÂâçÂ§ß‰Ωõ", note: "", link: "" },
                                { type: "spot", tag: "M", title: "Âπ≥Ê≥âÂØ∫ÁôΩÂ±±Á•ûÁ§æ", note: "", link: "" },
                                { type: "spot", tag: "O", title: "Ë∂äÂâçÂ§ßÈáéÂüé", note: "", link: "" },
                                { type: "spot", tag: "M", title: "‰∏∏Â≤°Âüé", note: "", link: "" },
                                { type: "spot", tag: "M", title: "Â±±‰ª£Ê∫´Ê≥â Âè§Á∏ΩÊπØ", note: "", link: "" },
                                { type: "spot", tag: "O", title: "È∂¥‰ªôÊ∫™ Ê´ªÂÖ¨Âúí", note: "", link: "" },
                                { type: "food", title: "Âä†Ë≥Ä‰æùÁ∑ëÂúí", note: "‰∏ãÂçàËå∂?", link: "" }
                            ]
                        },
                        plan2: {
                            name: "Plan 2 (Ëµ∞ÈáëÊæ§)",
                            mapLink: "https://maps.app.goo.gl/nLpB1y7uiFnzbVwN8",
                            items: [
                                { type: "spot", title: "Á¶è‰∫ïÁ∏£Á´ãÊÅêÈæçÂçöÁâ©È§®", note: "KlookÂèØË≤∑", link: "" },
                                { type: "spot", title: "Ë∂äÂâçÂ§ß‰Ωõ", note: "", link: "" },
                                { type: "spot", title: "Âπ≥Ê≥âÂØ∫ÁôΩÂ±±Á•ûÁ§æ", note: "", link: "" },
                                { type: "spot", title: "Ë∂äÂâçÂ§ßÈáéÂüé", note: "", link: "" }
                            ]
                        }
                    },
                    { type: "spot", title: "Check-in „ÅäËä±Ë¶ã‰πÖÂÖµË°õ", note: "15:00", link: "" },
                    { type: "food", title: "È£ØÂ∫óÊôöÈ§ê", note: "", link: "" }
                ]
            },
            {
                day: "DAY 7",
                date: "2/19 (Âõõ)",
                title: "Âä†Ë≥Ä/ÈáëÊæ§",
                mapLink: "https://maps.app.goo.gl/51bChJ7bnYankAgY7",
                items: [
                    { type: "food", title: "È£ØÂ∫óÊó©È§ê / 11:00ÈÄÄÊàø", note: "", noNav: true, link: "" },
                    { type: "trans", title: "ÈñãËªä (2.25hr)", note: "", link: "" },
                    { type: "spot", tag: "M", title: "ÈÇ£Ë∞∑ÂØ∫", note: "", link: "" },
                    { type: "spot", title: "Â≤©Â±± (Â•áÂ≤©ÈÅä‰ªôÂ¢É)", note: "", link: "" },
                    { type: "spot", tag: "O", title: "Â•ΩÂ∏ÇÂ§ö ÈáéÈáéÂ∏ÇÂ∫ó", note: "", link: "" },
                    { type: "spot", title: "Check-in Vista Kanazawa", note: "14:00", link: "" },
                    { type: "spot", title: "‰∏â‰∫ï Outlet", note: "", link: "" },
                    { type: "food", title: "È∫∫Â±ãÂ§ßÊ≤≥", note: "ÈÄ±ÂõõÈôêÂÆö", link: "" }
                ]
            },
            {
                day: "DAY 8",
                date: "2/20 (‰∫î)",
                title: "ÈáëÊæ§",
                mapLink: "https://maps.app.goo.gl/Qeo3t19ZUHFPfJQn8",
                items: [
                    { type: "food", title: "ÈáëÊ≤¢Ê∏Ø„ÅÑ„Åç„ÅÑ„ÅçÈ≠öÂ∏Ç", note: "Êó©È§ê", link: "" },
                    { type: "trans", title: "12:00 ÈÇÑËªä", note: "ÈáëÊ≤¢ÈßÖË•øÂè£", link: "" },
                    { type: "spot", title: "ËøëÊ±üÁî∫Â∏ÇÂ†¥", note: "", link: "" },
                    { type: "spot", title: "Â∞æÂ±±Á•ûÁ§æ", note: "", link: "" },
                    { type: "spot", title: "ÈáëÊ≤¢Âüé Èº†Â§öÈñÄ", note: "", link: "" },
                    { type: "spot", title: "ÈáëÊæ§Âüé / ÂÖºÂÖ≠Âúí", note: "", link: "" },
                    { type: "spot", title: "21‰∏ñÁ¥ÄÁæéË°ìÈ§®", note: "Ê≥≥Ê±†ÈúÄÈ†êÁ¥Ñ", link: "" },
                    { type: "spot", title: "ÈáëÊæ§Êù±Ëå∂Â±ãË°ó", note: "15:00~17:00", link: "" },
                    { type: "food", title: "ÈÖí„Å®‰∫∫ÊÉÖÊñôÁêÜ „ÅÑ„Åü„Çã Êú¨Â∫ó", note: "", link: "" }
                ]
            },
            {
                day: "DAY 9",
                date: "2/21 (ÂÖ≠)",
                title: "ÈáëÊæ§",
                items: [
                    { type: "food", title: "È£ØÂ∫óÊó©È§ê", note: "", noNav: true, link: "" },
                    { type: "trans", title: "ÂâçÂæÄÂ∞èÊùæÊ©üÂ†¥", note: "7:15 Êàñ 8:50 Âá∫Áôº", link: "https://www.google.com/maps/place/%E5%B0%8F%E6%9D%BE%E6%A9%9F%E5%A0%B4/@36.3928129,136.4034019,17z/data=!3m1!4b1!4m6!3m5!1s0x5ff851366126696f:0x942f95db6a56696f!8m2!3d36.3928086!4d136.4059768!16s%2Fm%2F026820k?entry=ttu&g_ep=EgoyMDI2MDExMy4wIKXMDSoKLDEwMDc5MjA3MUgBUAM%3D" } // Using search or generic if link unknown but user asked for logic. Wait user didn't give distinct link for airport, just asked to add nav. I'll use query search logic by not setting noNav and treating link logic below. Or better, set explicit query link if I want to be safe. "Komatsu Airport" is standard. I'll use standard search if no link provided.
                ]
            }
        ];

        const hotels = [
            { date: "üè® DAY 1 | 2/13 (‰∫î)", name: "Airbnb (Toyama)", price: "NT$ 5,380", note: "2/8ÂâçÂÖçË≤ªÂèñÊ∂à | ÊúâËªä‰Ωç", addr: "1-ch≈çme-4-24 Ushijimahonmachi", link: "https://maps.app.goo.gl/GrfnL5MrVq5RUcSS8" },
            { date: "üè® DAY 2 | 2/14 (ÂÖ≠)", name: "HOTEL VISCHIO TOYAMA", price: "NT$ 6,609", note: "Âê´Êó©È§ê | 2026/1/14ÂâçÂÖçÊ∂à | ÈúÄÂÅúËªä", addr: "", link: "" },
            { date: "üè® DAY 3 | 2/15 (Êó•)", name: "È£õÈ©íÈ´òÂ±± WING ÂúãÈöõÈ£ØÂ∫ó", price: "JPY 27,939", note: "Âê´Êó©È§ê | Â∑≤È†êÁ¥ÑËªä‰Ωç (JPY 1000) | 2/13ÂâçÂèØÂèñÊ∂à", addr: "", link: "" },
            { date: "üè® DAY 4 | 2/16 (‰∏Ä)", name: "Airbnb (Gifu/Tsuruga)", price: "NT$ 2,981", note: "2/15ÂâçÂÖçË≤ªÂèñÊ∂à | ÊúâËªä‰Ωç", addr: "35¬∞23'46.5\"N 136¬∞56'46.2\"E", link: "" },
            { date: "üè® DAY 5 | 2/17 (‰∫å)", name: "Dormy Inn PREMIUM Fukui", price: "JPY 31,499", note: "Âê´Êó©È§ê | 2/16ÂâçÂèØÊ∂à | Ëªä‰ΩçÂÖàÂà∞ÂÖàÂæó", addr: "", link: "" },
            { date: "üè® DAY 6 | 2/18 (‰∏â)", name: "„ÅäËä±Ë¶ã‰πÖÂÖµË°õ", price: "JPY 65,227", note: "Âê´ÊôöÊó©È§ê | 2ÈñìÊó•ÂºèÂÆ¢Êàø | 2/13ÂâçÂèØÂèñÊ∂à", addr: "", link: "" },
            { date: "üè® DAY 7 - DAY 8 | 2/19 (Âõõ) - 2/20 (‰∫î)", name: "vista", price: "?", note: "2/16ÂâçÂèØÂèñÊ∂à | Âê´Êó©È§ê", addr: "", link: "" },
        ];

        /* Render Logic */
        const views = {
            itinerary: document.getElementById('itinerary-view'),
            hotels: document.getElementById('hotels-view'),
            transport: document.getElementById('transport-view')
        };

        function switchView(viewName) {
            Object.values(views).forEach(v => v.classList.add('hidden'));
            views[viewName].classList.remove('hidden');

            document.querySelectorAll('.nav-tab').forEach(t => t.classList.remove('active'));
            const activeIdx = listIdx(viewName);
            if (activeIdx !== -1) document.querySelectorAll('.nav-tab')[activeIdx].classList.add('active');

            window.scrollTo({ top: 0, behavior: 'smooth' });
        }

        function listIdx(name) {
            if (name === 'itinerary') return 0;
            if (name === 'hotels') return 1;
            if (name === 'transport') return 2;
            return -1;
        }

        function renderItinerary() {
            let html = '';
            itinerary.forEach((day, idx) => {
                const isFirst = idx === 0;
                const expanded = isFirst ? 'expanded' : '';

                // Build items
                let itemsHtml = buildItemsHtml(day.items, `s${idx}`);

                html += `
                <div class="day-card ${expanded}" onclick="toggleCard(this)">
                    <div class="day-header">
                        <div class="day-title-row">
                            <span class="day-main-title">${day.date} ${day.title}</span>
                            <span class="day-date-str">${day.day}</span>
                        </div>
                        <svg class="expand-icon" viewBox="0 0 24 24"><path d="M7.41 8.59L12 13.17l4.59-4.58L18 10l-6 6-6-6 1.41-1.41z"/></svg>
                    </div>
                    <div class="day-body" onclick="event.stopPropagation()">
                        <div class="timeline-container">
                            ${itemsHtml}
                            ${day.mapLink ? renderMapBtn(day.mapLink) : ''}
                        </div>
                    </div>
                </div>
            `;
            });
            document.getElementById('itinerary-view').innerHTML = html;
        }

        function buildItemsHtml(items, prefix) {
            let html = '';
            items.forEach((item, i) => {
                if (item.type === 'split') {
                    const id1 = `${prefix}-p1-${i}`;
                    const id2 = `${prefix}-p2-${i}`;

                    html += `
                    <div class="plan-switcher-container">
                        <div class="plan-option active" onclick="switchPlan('${id1}', '${id2}', this)">${item.plan1.name}</div>
                        <div class="plan-option" onclick="switchPlan('${id2}', '${id1}', this)">${item.plan2.name}</div>
                    </div>
                    <div id="${id1}" class="plan-block visible">
                        ${buildItemsHtml(item.plan1.items, id1)}
                        ${item.plan1.mapLink ? renderMapBtn(item.plan1.mapLink) : ''}
                    </div>
                    <div id="${id2}" class="plan-block">
                        ${buildItemsHtml(item.plan2.items, id2)}
                        ${item.plan2.mapLink ? renderMapBtn(item.plan2.mapLink) : ''}
                    </div>
                `;
                } else {
                    html += renderItem(item);
                }
            });
            return html;
        }

        function renderItem(item) {
            // Dot Style
            let dotClass = '';
            let dotContent = '';
            if (item.type === 'food') {
                dotClass = 'food-dot';
                dotContent = 'üçΩÔ∏è';
            } else if (item.type === 'trans') {
                dotClass = 'nav-dot';
                dotContent = 'üöó';
            } else {
                dotClass = 'nav-dot';
            }

            // ... (rest of renderItem) ... 

            // Tag
            let tagHtml = '';
            // ...
            if (item.tag === 'M') tagHtml = `<span class="tag tag-m">M</span>`;
            if (item.tag === 'O') tagHtml = `<span class="tag tag-o">O</span>`;
            if (item.type === 'food' && !item.tag) tagHtml = `<span class="tag" style="font-size:16px;">üçΩÔ∏è</span>`;

            // Nav Button
            let btnHtml = '';

            let navLink = item.link;
            if (!navLink && !item.noNav && (item.type !== 'trans' && item.type !== 'none')) {
                navLink = `https://www.google.com/maps/search/?api=1&query=${encodeURIComponent(item.title)}`;
            }

            if (navLink) {
                btnHtml = `
                <a href="${navLink}" target="_blank" class="nav-btn">
                    Â∞éËà™ÂâçÂæÄ
                </a>
            `;
            }
            return `
            <div class="timeline-item">
                <div class="timeline-dot ${dotClass}" style="display:flex;align-items:center;justify-content:center;font-size:10px;">
                    ${item.type === 'trans' ? 'üöó' : ''}
                </div>
                <div class="timeline-content">
                    <div class="timeline-text">
                        <div class="item-name">
                            ${tagHtml}
                            <span>${item.title}</span>
                        </div>
                        <div class="item-note">${item.note}</div>
                    </div>
                    ${btnHtml}
                </div>
            </div>
        `;
        }

        function renderMapBtn(link) {
            return `
            <div style="margin-top: 15px; margin-bottom: 5px;">
                <a href="${link}" target="_blank" class="nav-btn" style="width: 100%; height: 38px; background-color: #f8f9fa; border: 1px dashed var(--primary-color); display:flex; align-items:center; justify-content:center; text-decoration:none; color:var(--primary-color); font-weight:700;">
                    üó∫Ô∏è ÈñãÂïüÊï¥Êó•Ë°åÁ®ãÂ∞éËà™
                </a>
            </div>
            `;
        }

        function renderHotels() {
            let html = '';
            hotels.forEach(h => {
                html += `
                <div class="day-card" style="display:block;">
                    <div class="day-header" style="cursor:default;">
                        <span class="day-main-title">${h.date}</span>
                    </div>
                    <div class="day-body" style="display:block; padding-top:10px;">
                        <div class="info-row">
                            <div class="info-label">È£ØÂ∫ó</div>
                            <div class="info-val">${h.name}</div>
                        </div>
                        <div class="info-row">
                            <div class="info-label">ÂÉπÊ†º</div>
                            <div class="info-val">${h.price}</div>
                        </div>
                        <div class="info-row">
                            <div class="info-label">ÂÇôË®ª</div>
                            <div class="info-val">${h.note}</div>
                        </div>
                        ${h.addr ? `
                        <div class="info-row">
                            <div class="info-label">Âú∞ÂùÄ</div>
                            <div class="info-val" style="font-size:12px;">${h.addr}</div>
                        </div>` : ''}
                        
                        <!-- Hotel Nav Button -->
                        <div style="margin-top: 15px;">
                            <a href="${h.link ? h.link : 'https://www.google.com/maps/search/?api=1&query=' + encodeURIComponent(h.name)}" 
                               target="_blank" class="nav-btn" 
                               style="width: 100%; height: 36px; border-radius: 8px; border: 1px solid var(--primary-color);">
                                Â∞éËà™
                            </a>
                        </div>
                    </div>
                </div>
             `;
            });
            document.getElementById('hotels-view').innerHTML = html;
        }

        /* Interactions */
        function toggleCard(el) {
            el.classList.toggle('expanded');
        }

        function switchPlan(showId, hideId, btnEl) {
            // Toggle Active Button
            const parent = btnEl.parentElement;
            Array.from(parent.children).forEach(c => c.classList.remove('active'));
            btnEl.classList.add('active');

            // Toggle Content
            document.getElementById(showId).classList.add('visible');
            document.getElementById(hideId).classList.remove('visible');

            // Stop propagation to prevent card collapse
            event.stopPropagation();
        }

        // Init
        renderItinerary();
        renderHotels();

    </script>
</body>

</html>